<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
	<link rel="stylesheet" href="css/canvas.css">
	<title>Document</title>
</head>
<body>
	<div id="home_page">
		<div class="signatureBtn">签名</div>
		<div class="signatureBox">
			<div class="controlBox">
				<div class="btn clear">清除</div>
				<div class="btn save">保存</div>
				<div class="btn close">关闭</div>
			</div>
			<div class="signature"
				data-width="600"
				data-border="none"
				data-background="white"
				data-line-color="black"
				data-line-width="4"
				data-auto-fit="true"
			></div>
		</div>
		<img id="base64signature" style="display:none" src="" />
	</div>
	<script src="js/jquery.min.js"></script>
	<script src="js/jq-signature.min.js"></script>
	<script>
		$(function(){
			var _clientHeight=window.innerHeight;
			$(".signature").attr("data-height",_clientHeight-100);
			$(".signature").jqSignature();
			$(".signatureBox").hide();
			$(".btn.clear").on("click",function(){
				clearCanvas()
			});
			$(".btn.save").on("click",function(){
				saveSignature()
			})
			$(".btn.close").on("click",function(){
				close()
			})
			$(".signatureBtn").on("click",function(){
				$(".signatureBox").show();
			})
			function clearCanvas(){
				$(".signature").jqSignature('clearCanvas');
				$("#base64signature")[0].src="";
			}
			function saveSignature(){
				var dataUrl = $('.signature').jqSignature('getDataURL');
				$("#base64signature")[0].src=dataUrl;
				$(".signatureBox").hide();
				$("#base64signature").show();
			}
			function close(){
				$(".signatureBox").hide();
			}
		})
	</script>
</body>
</html>